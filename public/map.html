<!DOCTYPE html>
<html>
  <head>
    <title>Group 5 - MM802 Mini Project</title>
    <meta charset="utf-8">
    <style>
        body {
            float: left;
            height: 100%;
            width: 100%;
            margin: 0;
        }
        #baguazhen {
            display: block;
            position: absolute;
            height: 100vh;
            width: 100%;
            top: 0;
            z-index: 2;
        }
        #map {
            display: inline-block;
            height: 100vh;
            width: 100%;
        }
    </style>
  </head>
  <body>
    <div id="baguazhen" style="height: 100vh"></div>
    <div id="map"></div>

    <script>
        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(initMap);
            } else {
                x.innerHTML = "Geolocation is not supported by this browser.";
            }
        }

        function initMap(position) {
            var uluru = {lat: 53.5232189, lng: -113.5285073};
            if (position) {
                uluru = {lat: position.coords.latitude, lng: position.coords.longitude};
            }

            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 17,
                center: uluru
            });
            var marker = new google.maps.Marker({
                position: uluru,
                map: map
            });
        }

        getLocation();
    </script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCLg0cOyioggM7H2rlPNsyf_y_eENk1Ct0&callback=initMap">
    </script>

    <script type="text/javascript" src="./jquery.js"></script>
    <script type="text/javascript" src="./echarts.js"></script>
    <script type="text/javascript" src="./baguazhen.js"></script>

    <script>
        $(document).keyup(function(e) {
            if (e.keyCode == 27) { // esc pressed
                var isVisible = $("#baguazhen:visible").length;
                console.log('====================================');
                console.log('esc pressed');
                console.log(isVisible);
                console.log('====================================');

                if (isVisible) {
                    $("#baguazhen").hide();
                } else {
                    $("#baguazhen").show();
                }
            }
        });
    </script>
  </body>
</html>